sdwan_banner_password:
  preface:
    response: "\n#Unauthorized access prohibited!#\n"
    timing:
    - 0:,1,1
  prompt: "Password:"
  commands:
    cisco:
      new_state: sdwan_enable

sdwan_enable:
  prompt: "Router#"
  commands: &sdwan_enable_cmds
    "term length 0": ""
    "term width 0": ""
    "show sdwan version": "16.12.1.0.533"
    "show sdwan software": |2
      VERSION        ACTIVE  DEFAULT  PREVIOUS  CONFIRMED  TIMESTAMP
      --------------------------------------------------------------------------------
      16.12.1.0.533  true    true     false     auto       2019-05-21T03:00:31-00:00
    "show version": ""
    "config term": "This command is not supported"
    "config-transaction":
      new_state: sdwan_config

sdwan_config:
  preface: "admin connected from 127.0.0.1 using console on Router"
  prompt: "Router(config)#"
  commands: &sdwan_config_cmds
    "no logging console": ""
    "line console 0": "syntax error: \"console\" is not a valid value."
    "exec-timeout 0" : "syntax error: unknown command"
    "commit": "% No modifications to commit."
    "end":
      new_state: sdwan_enable

sdwan_enable2:
  prompt: "Router#"
  commands:
   <<: *sdwan_enable_cmds
   "config-transaction":
      new_state: sdwan_config2

sdwan_config2:
  prompt: "Router(config)#"
  commands:
    <<: *sdwan_config_cmds
    "commit":
      response: |
        The following warnings were generated:
        'system is-vmanaged': This device is being managed by the vManage. Any
        configuration changes to this device will be overwritten by the vManage after
        the control connection to the vManage comes back up.
      new_state: sdwan_config_commit_confirm

sdwan_config_commit_confirm:
  prompt: "Proceed? [yes,no]"
  commands:
    "yes":
      new_state: sdwan_config2
